<div class="container">
    <div class="header">
      <mat-form-field>
        <input
          matInput
          placeholder="Your name here"
          type="text"
          [(ngModel)]="sender"
          [ngModelOptions]="{ updateOn: 'blur' }"
        />
      </mat-form-field>
    </div>
    <div *ngIf="!!sender" #viewer class="body">
      <div class="viewer">
        <div
          class="message"
          *ngFor="let msg of serverMessages"
          [ngClass]="{ bold: msg.isBroadcast, others: !isMine(msg) }"
        >
          <div class="badge" [style.backgroundColor]="getSenderColor(msg.sender)">
            {{ getSenderInitials(msg.sender) }}
          </div>
          <div
            class="content"
            [ngClass]="{ bold: msg.isBroadcast, others: !isMine(msg) }"
          >
            <i *ngIf="msg.isBroadcast" class="material-icons">speaker_phone</i>
            <span>{{ msg.content }}</span>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="!!sender" class="footer">
      <form (submit)="send()">
        <mat-form-field>
          <input
            name="clientMessage"
            matInput
            placeholder="Write a message"
            type="text"
            [(ngModel)]="clientMessage"
          />
        </mat-form-field>
        <button mat-fab type="submit">
          <i class="material-icons">send</i>
        </button>
      </form>
    </div>
  </div>
  
  <button
    (click)="routeToSpotify()"
    style="
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 200px;
      height: 50px;
      background-color: rgb(184, 75, 184);
      color: white;
      border: none;
    "
  >
    Test Express API For Spotify
  </button>
  